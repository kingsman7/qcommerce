{
  "crudId": "icommerce-crud-product",
  "entityName": "product",
  "apiRoute": "/icommerce/v3/products",
  "permission": "icommerce.products",
  "extraFormFields": "Icommerce.crud-fields.products",
  "create": {
    "title": "icommerce.cms.newOptionValue",
    "to": {"name": "qcommerce.admin.products.create"}
  },
  "read": {
    "columns": [
      {
        "name": "id",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.id"
        },
        "field": "id",
        "style": "width: 50px",
        "sortable": false
      },
      {
        "name": "name",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.title"
        },
        "field": "name",
        "style": "width: 50px",
        "align": "rigth",
        "sortable": true
      },
      {
        "name": "sku",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.sku"
        },
        "field": "sku",
        "align": "left",
        "sortable": false
      },
      {
        "name": "category",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.category"
        },
        "field": "category",
        "align": "left",
        "sortable": false,
        "format":{
          "type":"str",
          "child":["title"]
        }
      },
      {
        "name": "status",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.status"
        },
        "field": "status",
        "align": "left",
        "sortable": false
      },
      {
        "name": "quantity",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.stock"
        },
        "field": "quantity",
        "align": "left",
        "sortable": false,
        "format":{
          "type":"conditional",
          "isVal": {
            "type":"conditional",
            "yes":{
              "yes":"isite.cms.label.available",
              "no":"100+"
            },
            "no":"isite.cms.label.soldOut"
          }
        }
      },
      {
        "name": "slug",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.slug"
        },
        "field": "slug",
        "align": "left",
        "sortable": false
      },
      {
        "name": "price",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.price"
        },
        "field": "price",
        "align": "left",
        "sortable": false,
        "format":{
          "type":"colNumber"
        }
      },
      {
        "name": "create_at",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.createdAt"
        },
        "field": "createdAt",
        "align": "left",
        "sortable": false,
        "format":{
          "type":"date"
        }
      },
      {
        "name": "actions",
        "label": {
          "isTranslatable": "singular",
          "value": "isite.cms.form.actions"
        },
        "align": "right"
      }
    ],
    "requestParams": {
      "include": "category",
      "filter": {
        "filter": {
          "filterName":"order",
          "field": "id",
          "way": "desc"
        }
      },
      "params": {
        "validatioAppMode": {
          "mode":"iadmin"
        },
        "providerId": {
          "store": "quserAuth.userId"
        }
      }
    },
    "filters":[
      {
        "filterName": "categories",
        "value": null,
        "type": "treeSelect",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "isite.cms.form.category"
            },
            "clearable":true
          }
        },
        "loadOptions": {
          "apiRoute": "/icommerce/v3/categories"
        }
      },
      {
        "filterName": "manufacturers",
        "value": null,
        "type": "select",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "icommerce.cms.form.manufacturer"
            },
            "clearable":true
          }
        },
        "loadOptions": {
          "apiRoute": "/icommerce/v3/manufacturers",
          "select":{
            "label":"name",
            "id":"id"
          }
        }
      },
      {
        "filterName": "status",
        "value": null,
        "type": "treeSelect",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "isite.cms.form.status"
            },
            "clearable":true,
            "options": [
              {
                "label": "isite.cms.label.enabled",
                "value": 1
              },
              {
                "label": "isite.cms.label.disabled",
                "value": 0
              }
            ]
          }
        }
      },
      {
        "filterName": "stockStatus",
        "value": null,
        "type": "select",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "isite.cms.form.stock"
            },
            "clearable":true,
            "options": [
              {
                "label": "isite.cms.label.available", 
                "value": 1
              },
              {
                "label": "isite.cms.label.soldOut", 
                "value": 0
              }
            ]
          }
        }
      },
      {
        "filterName": "soonToSoldOut",
        "value": null,
        "type": "checkbox",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "icommerce.cms.form.soonToSoldOut"
            },
            "clearable":false
          }
        }
      },
      {
        "filterName": "withDiscount",
        "value": null,
        "type": "checkbox",
        "props": {
          "label": {
            "isTranslatable": {
              "type": "singular",
              "value": "icommerce.cms.form.withDiscount"
            },
            "clearable":false
          }
        }
      }
    ],
    "actions": [
      {
        "icon":"fas fa-eye",
        "color":"info",
        "tooltip":"icommerce.cms.message.viewProduct",
        "action": {
          "type":"exteralUrl - ref - method - helper",
          "value":"row.url", 
          "method": "openExternalURL"
        }
      }
    ]
  },
  "update": {
    "to": "qcommerce.admin.products.eit"
  },
  "delete": true
}